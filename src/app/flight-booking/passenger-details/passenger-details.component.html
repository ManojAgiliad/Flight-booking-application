<div id="booking" class="section">
    <div class="section-center">
        <div class="container">
            <div class="row">
                <div class="booking-form">
                    <form [formGroup]="passengerForm" (ngSubmit)="submitPassengerDetails(passengerForm.value)">
                        <div class="extra-section">
                            <span class="extra-heading large paddingTop20">Passenger Details </span>{{ searchData?.adultPassenger}} Adult | {{ searchData?.childPassenger}} Child
                            <span>    
                                <div formArrayName="passengers" *ngFor="let passenger of passengers.controls; let i = index">
                                    <div [formGroupName]="i">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="form-label" attr.for="{{ 'fullName' + i}}">Full Name</label>
                                                    <input 
                                                        [ngClass]="{'is-invalid': displayMessage['fullName'] }"
                                                        id="{{ 'fullName' + i}}"
                                                        class="form-control" 
                                                        type="text" 
                                                        formControlName="fullName"
                                                        (blur)="blur()"
                                                        
                                                    />
                                                    <span class="invalid-feedback">
                                                        {{displayMessage['fullName']}}
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="form-label" attr.for="{{ 'type' + i}}">Type</label>
                                                    <select 
                                                        class="form-control" 
                                                        id="{{ 'type' + i}}"
                                                        formControlName="type"
                                                        [ngClass]="{'is-invalid': displayMessage['type'] }"
                                                    >
                                                        <option value="Adult">Adult</option>
                                                        <option value="Child">Child</option>
                                                    </select>
                                                    <span class="select-arrow"></span>
                                                    <span class="invalid-feedback">
                                                        {{displayMessage['type']}}
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label class="form-label" attr.for="{{ 'gender' + i}}">Gender</label>
                                                    <select 
                                                        class="form-control" 
                                                        id="{{ 'gender' + i}}"
                                                        formControlName="gender"
                                                        [ngClass]="{'is-invalid': displayMessage['gender'] }"
                                                    >
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                    </select>
                                                    <span class="select-arrow"></span>
                                                    <span class="invalid-feedback">
                                                        {{displayMessage['gender']}}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </span>
                            <div class="row">
                                <div>
                                    <button type="button" class="btn btn-primary" (click)="addPassenger()" *ngIf="!showContinue">Add Passenger</button>
                                    <button type="button" class="btn btn-danger mr-1" style="float: right" routerLink="/flight-details">Back</button>
                                    <button type="submit" class="btn btn-success mr-1" style="float: right" *ngIf="showContinue">Continue</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>